@using ELibraryManagement.Web.Services.Interfaces
@inject IAuthApiService AuthService
<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Thu vi?n di?n t? ELibrary - Noi kh?i ngu?n tri th?c cho ngu?i Vi?t Nam" />
    <meta name="keywords" content="thu vi?n di?n t?, sách online, d?c sách, library, ebook, vietnam" />
    <title>@ViewData["Title"] - ELibrary</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="~/favicon.ico" />

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Custom Styles -->
    @await RenderSectionAsync("Styles", required: false)
</head>

<body class="d-flex flex-column min-vh-100">
    <header class="fixed-top">
        <!-- Top bar v?i thông tin liên h? -->
        <div class="top-bar bg-primary text-white py-1">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <small>
                            <i class="fas fa-phone me-1"></i> Hotline: (028) 1234-5678
                            <span class="mx-2">|</span>
                            <i class="fas fa-envelope me-1"></i> library@university.edu.vn
                        </small>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <small>
                            <i class="fas fa-clock me-1"></i> Th?i gian ph?c v?: 7:00 - 22:00 (T2-CN)
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow">
            <div class="container">
                <!-- University Logo & Name -->
                <a class="navbar-brand d-flex align-items-center" asp-area="" asp-controller="Home" asp-action="Index">
                    <div class="me-3">
                        <div class="university-logo-placeholder">
                            <i class="fas fa-university fa-2x text-primary"></i>
                        </div>
                    </div>
                    <div>
                        <div class="fw-bold text-primary" style="font-size: 1.2rem;">
                            TH? VI?N TRU?NG Ð?I H?C
                        </div>
                        <div class="text-secondary" style="font-size: 0.9rem;">
                            UNIVERSITY LIBRARY SYSTEM
                        </div>
                    </div>
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <!-- Navigation Links -->
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">
                                <i class="fas fa-home me-1"></i>Trang Ch?
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-book me-1"></i>Thu Vi?n
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" asp-area="" asp-controller="Home" asp-action="Books">
                                        <i class="fas fa-book me-2"></i>Danh M?c Sách
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-newspaper me-2"></i>T?p Chí Khoa H?c
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-file-pdf me-2"></i>Lu?n Van / Lu?n Án
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-database me-2"></i>Co S? D? Li?u
                                    </a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-cogs me-1"></i>D?ch V?
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-book-reader me-2"></i>Mu?n Sách Online
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-laptop me-2"></i>Ð?t Ch? H?c
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-print me-2"></i>D?ch V? In ?n
                                    </a></li>
                                <li><a class="dropdown-item" href="#">
                                        <i class="fas fa-users me-2"></i>H? Tr? Nghiên C?u
                                    </a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#about">
                                <i class="fas fa-info-circle me-1"></i>Gi?i Thi?u
                            </a>
                        </li>

                        @if (AuthService.IsAuthenticated())
                        {
                            <li class="nav-item dropdown">
                                <a class="nav-link d-flex align-items-center" href="#" id="navbarDropdown" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-user-shield fa-lg text-primary me-2"></i>
                                    <span class="fw-medium">Qu?n lý tài kho?n</span>
                                    <i class="fas fa-chevron-down ms-2"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" asp-controller="Accounts" asp-action="Profile">
                                            <i class="fas fa-user me-2"></i>Thông tin cá nhân
                                        </a></li>
                                    <li><a class="dropdown-item" asp-controller="Books" asp-action="MyBooks">
                                            <i class="fas fa-book me-2"></i>Sách dã mu?n
                                        </a></li>
                                    <li><a class="dropdown-item" asp-controller="Reviews" asp-action="MyReviews">
                                            <i class="fas fa-star me-2"></i>Ðánh giá c?a tôi
                                        </a></li>
                                    <li><a class="dropdown-item" href="#">
                                            <i class="fas fa-bookmark me-2"></i>Sách yêu thích
                                        </a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    @if (await AuthService.IsInRoleAsync("Admin"))
                                    {
                                        <li><a class="dropdown-item text-primary" asp-controller="Admins" asp-action="Index">
                                                <i class="fas fa-tachometer-alt me-2"></i>Qu?n tr? h? th?ng
                                            </a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                    }
                                    <li>
                                        <form asp-controller="Accounts" asp-action="Logout" method="post" class="d-inline">
                                            <button type="submit" class="dropdown-item border-0 bg-transparent text-danger">
                                                <i class="fas fa-sign-out-alt me-2"></i>Ðang xu?t
                                            </button>
                                        </form>
                                    </li>
                                </ul>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item">
                                <a class="nav-link btn btn-outline-dark rounded-pill px-3 me-2" asp-controller="Accounts"
                                    asp-action="Login">
                                    <i class="fas fa-sign-in-alt me-1"></i>Ðang Nh?p
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link btn btn-dark text-white rounded-pill px-3" asp-controller="Accounts"
                                    asp-action="Register">
                                    <i class="fas fa-user-plus me-1"></i>Ðang Ký
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main content area with flex-grow-1 to push footer down -->
    <div class="flex-grow-1" style="padding-top: 140px;">
        <main role="main">
            @RenderBody()
        </main>
    </div>

    <!-- Footer v?i thi?t k? thu vi?n d?i h?c -->
    <footer class="bg-dark text-white">
        <!-- Main Footer Content -->
        <div class="py-5">
            <div class="container">
                <div class="row">
                    <!-- University Info -->
                    <div class="col-lg-4 mb-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="university-logo-placeholder me-3">
                                <i class="fas fa-university fa-3x text-warning"></i>
                            </div>
                            <div>
                                <h5 class="text-white mb-1">THU VI?N TRU?NG Ð?I H?C</h5>
                                <p class="text-white-50 mb-0" style="font-size: 0.9rem;">University Library System</p>
                            </div>
                        </div>
                        <p class="text-white mb-3">
                            Trung tâm tri th?c và nghiên c?u hàng d?u, ph?c v? c?ng d?ng h?c thu?t v?i hon 500,000 d?u
                            sách
                            và tài li?u s?. Chúng tôi cam k?t h? tr? h?c t?p, gi?ng d?y và nghiên c?u khoa h?c.
                        </p>
                        <div class="social-links">
                            <a href="#" class="text-white me-3 hover-effect" title="Facebook">
                                <i class="fab fa-facebook-f fa-lg"></i>
                            </a>
                            <a href="#" class="text-white me-3 hover-effect" title="YouTube">
                                <i class="fab fa-youtube fa-lg"></i>
                            </a>
                            <a href="#" class="text-white me-3 hover-effect" title="LinkedIn">
                                <i class="fab fa-linkedin-in fa-lg"></i>
                            </a>
                            <a href="#" class="text-white hover-effect" title="Email">
                                <i class="fas fa-envelope fa-lg"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Library Services -->
                    <div class="col-lg-2 col-md-6 mb-4">
                        <h6 class="text-warning mb-3">
                            <i class="fas fa-books me-2"></i>D?ch V? Thu Vi?n
                        </h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-book-reader me-2"></i>Mu?n sách tr?c tuy?n
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-laptop me-2"></i>Ð?t ch? h?c nhóm
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-database me-2"></i>Co s? d? li?u
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-graduation-cap me-2"></i>H? tr? nghiên c?u
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-print me-2"></i>D?ch v? in ?n
                                </a></li>
                        </ul>
                    </div>

                    <!-- Academic Resources -->
                    <div class="col-lg-2 col-md-6 mb-4">
                        <h6 class="text-warning mb-3">
                            <i class="fas fa-university me-2"></i>Tài Nguyên H?c Thu?t
                        </h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-file-pdf me-2"></i>Lu?n van - Lu?n án
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-newspaper me-2"></i>T?p chí khoa h?c
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-archive me-2"></i>Tài li?u luu tr?
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-globe me-2"></i>Tài nguyên s?
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-bookmark me-2"></i>Thu m?c chuyên d?
                                </a></li>
                        </ul>
                    </div>

                    <!-- Quick Links -->
                    <div class="col-lg-2 col-md-6 mb-4">
                        <h6 class="text-warning mb-3">
                            <i class="fas fa-link me-2"></i>Liên K?t Nhanh
                        </h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#about" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-info-circle me-2"></i>V? chúng tôi
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-clock me-2"></i>Gi? m? c?a
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-map-marker-alt me-2"></i>So d? thu vi?n
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-question-circle me-2"></i>H? tr?
                                </a></li>
                            <li class="mb-2"><a href="#" class="text-white text-decoration-none hover-link">
                                    <i class="fas fa-bell me-2"></i>Thông báo
                                </a></li>
                        </ul>
                    </div>

                    <!-- Contact Information -->
                    <div class="col-lg-2 mb-4">
                        <h6 class="text-warning mb-3">
                            <i class="fas fa-phone me-2"></i>Liên H?
                        </h6>
                        <div class="text-white">
                            <p class="mb-2">
                                <i class="fas fa-map-marker-alt me-2 text-warning"></i>
                                <small>123 Ðu?ng Ð?i H?c<br>Qu?n 1, TP. H? Chí Minh</small>
                            </p>
                            <p class="mb-2">
                                <i class="fas fa-phone me-2 text-warning"></i>
                                <small>(028) 1234-5678</small>
                            </p>
                            <p class="mb-2">
                                <i class="fas fa-envelope me-2 text-warning"></i>
                                <small>library@university.edu.vn</small>
                            </p>
                            <p class="mb-2">
                                <i class="fas fa-clock me-2 text-warning"></i>
                                <small>7:00 - 22:00 (T2-CN)</small>
                            </p>
                            <p class="mb-0">
                                <i class="fas fa-wifi me-2 text-warning"></i>
                                <small>Free WiFi Available</small>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="border-top border-secondary">
            <div class="container py-3">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <p class="mb-0 text-white">
                            &copy; 2025 University Library System. All rights reserved.
                            <br>
                            <small class="text-white-50">
                                Phát tri?n b?i Phòng Công ngh? Thông tin - Tru?ng Ð?i h?c
                            </small>
                        </p>
                    </div>
                    <div class="col-md-4 text-md-end">
                        <a asp-area="" asp-controller="Home" asp-action="Privacy"
                            class="text-white text-decoration-none me-3 hover-link">
                            <i class="fas fa-shield-alt me-1"></i>Chính sách b?o m?t
                        </a>
                        <a href="#" class="text-white text-decoration-none hover-link">
                            <i class="fas fa-file-contract me-1"></i>Ði?u kho?n s? d?ng
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
    @await RenderSectionAsync("ValidationScripts", required: false)
</body>

</html>